<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CapitalPath Members</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Firebase (Compat Mode) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  min-height: 100vh;
  color: #000;
}

.header-logo {
  width: 120px;
  display: block;
  margin: 25px auto 10px;
}

/* Center forms */
.center {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.card {
  background: #fff;
  padding: 30px;
  border-radius: 16px;
  width: 100%;
  max-width: 420px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

input, button {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
}

button {
  background: #000;
  color: #fff;
  border: none;
  cursor: pointer;
}

button:hover { opacity: .85; }

.error { color: red; text-align: center; }

/* PRODUCTS SECTION */
#productsSection {
  display: none;
  padding: 50px 20px;
  color: #fff;
}

.logout {
  position: fixed;
  top: 20px;
  right: 20px;
  padding: 10px 18px;
  background: #000;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.grid {
  max-width: 1100px;
  margin: auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px,1fr));
  gap: 25px;
}

.product {
  background: #fff;
  color: #000;
  padding: 20px;
  border-radius: 15px;
  text-align: center;
}

.product img {
  width: 100%;
  max-height: 220px;
  object-fit: contain;
}

.product a {
  display: inline-block;
  margin-top: 10px;
  padding: 10px 18px;
  background: orange;
  color: #000;
  text-decoration: none;
  border-radius: 8px;
  font-weight: bold;
}
</style>
</head>

<body>

<img src="https://raw.githubusercontent.com/mydtech24-ux/capitalpath/main/logo.jpg" class="header-logo">


<!-- LOGIN FORM -->
<div id="loginSection" class="center">
  <div class="card">
    <h2 style="text-align:center;">CapitalPath Members</h2>
    <p style="text-align:center;">Login or create an account</p>

    <input id="loginEmail" placeholder="Email">
    <input id="loginPassword" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <button onclick="showCreate()">Create Account</button>

    <div id="loginError" class="error"></div>
  </div>
</div>

<!-- CREATE ACCOUNT FORM -->
<div id="createSection" class="center" style="display:none;">
  <div class="card">
    <h2 style="text-align:center;">Create Your Account</h2>

    <input id="firstName" placeholder="First Name">
    <input id="lastName" placeholder="Last Name">
    <input id="phone" placeholder="Phone Number">
    <input id="address" placeholder="Address">
    <input id="state" placeholder="State / Region">
    <input id="createEmail" placeholder="Email">
    <input id="createPassword" type="password" placeholder="Password (min 6 chars)">

    <button onclick="register()">Create Account</button>
    <button onclick="showLogin()">Back to Login</button>

    <div id="createError" class="error"></div>
  </div>
</div>

<!-- PRODUCTS SECTION -->
<div id="productsSection">

  <button class="logout" onclick="logout()">Logout</button>

  <h2 style="text-align:center;color:white;">Recommended Products</h2>

  <div class="grid">

    <!-- PRODUCT 1 -->
    <div class="product">
      <img src="https://m.media-amazon.com/images/I/71M1aD35XoL._CLa%7C2922,2400%7C71q8bzARVzL.jpg,71NBZIExBCL.jpg%7C0,0,1328,2400+1594,0,1328,2400+664,0,1594,2400_._SY300_.jpg">
      <h3>Start With Why (Paperback)</h3>
      <a href="https://amzn.to/4bqePay" target="_blank">View on Amazon</a>
    </div>

    <!-- PRODUCT 2 -->
    <div class="product">
      <img src="https://images-na.ssl-images-amazon.com/images/I/71mNTsmd4NL._AC_UL232_SR232,232_.jpg">
      <h3>Laptop Stand Adjustable</h3>
      <a href="https://amzn.to/46sS6XV" target="_blank">View on Amazon</a>
    </div>

    <!-- PRODUCT 3 -->
    <div class="product">
      <img src="https://m.media-amazon.com/images/S/aplus-media-library-service-media/07b469cb-67c9-4071-a4bc-eb9236d42f81.__CR0,0,2928,1200_PT0_SX1464_V1___.jpg">
      <h3>Anker Prime USB-C Cable</h3>
      <a href="https://amzn.to/46qDF6E" target="_blank">View on Amazon</a>
    </div>

    <!-- PRODUCT 4 = YOUR PDF -->
    <div class="product">
      <img src="https://m.media-amazon.com/images/I/41Q6dJZ2PzL._SX331_BO1,204,203,200_.jpg">
      <h3>Your 7-Day Financial Reset Guide</h3>
      <a href="/cba85dfc-82d6-44b3-b9e3-b874b2603929.pdf" target="_blank">Download PDF</a>
    </div>

  </div>
</div>

<!-- FIREBASE SCRIPT -->
<script>
// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyC7T03RddiF1PmtjPK3AEBT6GXsGbRhyNw",
  authDomain: "capitalpath-cf220.firebaseapp.com"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// NAVIGATION
function showCreate() {
  loginSection.style.display = "none";
  createSection.style.display = "flex";
}

function showLogin() {
  createSection.style.display = "none";
  loginSection.style.display = "flex";
}

// AUTH CHANGE
auth.onAuthStateChanged(user => {
  if (user) {
    loginSection.style.display = "none";
    createSection.style.display = "none";
    productsSection.style.display = "block";
  } else {
    loginSection.style.display = "flex";
    productsSection.style.display = "none";
  }
});

// LOGIN
function login() {
  auth.signInWithEmailAndPassword(
    loginEmail.value,
    loginPassword.value
  ).catch(e => loginError.innerText = e.message);
}

// REGISTER
function register() {
  if (!createEmail.value || !createPassword.value) {
    createError.innerText = "Please fill email and password.";
    return;
  }
  auth.createUserWithEmailAndPassword(
    createEmail.value,
    createPassword.value
  ).catch(e => createError.innerText = e.message);
}

// LOGOUT
function logout() { auth.signOut(); }

</script>

</body>
</html>

