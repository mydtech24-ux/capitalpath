<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CapitalPath Members</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Firebase (Compat mode = pa kraze) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  min-height: 100vh;
  color: #000;
}

/* Center forms */
.center {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.card {
  background: #fff;
  padding: 30px;
  border-radius: 16px;
  width: 100%;
  max-width: 420px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

input, button, select {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
}

button {
  background: #000;
  color: #fff;
  border: none;
  cursor: pointer;
}

button:hover { opacity: .85; }

.error { color: red; text-align: center; }

/* PRODUCTS */
#productsSection {
  display: none;
  padding: 50px 20px;
  color: #fff;
}

.logout {
  position: fixed;
  top: 20px;
  right: 20px;
  padding: 10px 18px;
  background: #000;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.grid {
  max-width: 1100px;
  margin: auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px,1fr));
  gap: 25px;
}

.product {
  background: #fff;
  color: #000;
  padding: 20px;
  border-radius: 15px;
  text-align: center;
}

.product img {
  width: 100%;
  max-height: 220px;
  object-fit: contain;
}
</style>
</head>

<body>

<!-- LOGIN FORM -->
<div id="loginSection" class="center">
  <div class="card">
    <h2>Login to CapitalPath</h2>
    <input id="loginEmail" placeholder="Email">
    <input id="loginPassword" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <button onclick="showCreate()">Create Account</button>
    <div id="loginError" class="error"></div>
  </div>
</div>

<!-- CREATE ACCOUNT FORM -->
<div id="createSection" class="center" style="display:none;">
  <div class="card">
    <h2>Create Your Account</h2>

    <input id="firstName" placeholder="First Name">
    <input id="lastName" placeholder="Last Name">
    <input id="phone" placeholder="Phone Number">
    <input id="address" placeholder="Address">
    <input id="state" placeholder="State / Region">
    <input id="createEmail" placeholder="Email">
    <input id="createPassword" type="password" placeholder="Password (min 6 chars)">
    
    <button onclick="register()">Create Account</button>
    <button onclick="showLogin()">Back to Login</button>

    <div id="createError" class="error"></div>
  </div>
</div>

<!-- PRODUCTS (AFTER LOGIN) -->
<!-- PRODUCTS -->
<div id="productsSection" style="display:none;">
  <button class="logout" onclick="logout()">Logout</button>

  <h2 style="text-align:center;">Recommended Products</h2>

  <div class="grid">

    <div class="product">
      <img src="https://m.media-amazon.com/images/I/41Q6dJZ2PzL._SX331_BO1,204,203,200_.jpg">
      <h3>Start With Why</h3>
      <a href="https://amzn.to/4bqePay" target="_blank">View on Amazon</a>
    </div>

    <div class="product">
      <img src="https://via.placeholder.com/400x400">
      <h3>Laptop Stand Adjustable</h3>
      <a href="https://amzn.to/46sS6XV" target="_blank">View on Amazon</a>
    </div>

    <div class="product">
      <img src="https://via.placeholder.com/400x400">
      <h3>Anker USB-C Cable</h3>
      <a href="https://amzn.to/46qDF6E" target="_blank">View on Amazon</a>
    </div>

  </div>
</div>

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyC7T03RddiF1PmtjPK3AEBT6GXsGbRhyNw",
  authDomain: "capitalpath-cf220.firebaseapp.com"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// UI Switch
function showCreate() {
  loginSection.style.display = "none";
  createSection.style.display = "flex";
}

function showLogin() {
  createSection.style.display = "none";
  loginSection.style.display = "flex";
}

// AUTH STATE
auth.onAuthStateChanged(user => {
  if (user) {
    loginSection.style.display = "none";
    createSection.style.display = "none";
    productsSection.style.display = "block";
  } else {
    loginSection.style.display = "flex";
    productsSection.style.display = "none";
  }
});

// LOGIN
function login() {
  auth.signInWithEmailAndPassword(
    loginEmail.value,
    loginPassword.value
  ).catch(e => loginError.innerText = e.message);
}

// REGISTER
function register() {
  if (!createEmail.value || !createPassword.value) {
    createError.innerText = "Please fill email and password.";
    return;
  }

  auth.createUserWithEmailAndPassword(
    createEmail.value,
    createPassword.value
  ).catch(e => createError.innerText = e.message);
}

// LOGOUT
function logout() {
  auth.signOut();
}
</script>

</body>
</html>

